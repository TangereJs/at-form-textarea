<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>at-form-textarea demo</title>
  <script src="../../webcomponentsjs/webcomponents-lite.js" charset="utf-8"></script>
  <link rel="import" href="../../at-doc-snippet/at-doc-snippet.html" />
  <link rel="import" href="../at-form-textarea.html">

  <style>
    #valueEcho {
      border: 1px solid #AABBCC;
    }

    h4, p {
      margin: 0 0 8px 0;
    }

    .controls-container {

    }

    .controls-container > .control-container {
      margin: 5px 0;
    }
  </style>
</head>

<body>
  <div>
    <h3>This is demo for at-form-textarea</h3>
    <p>The at-form-textarea has a label and input field</p>
    <p>Use <b>label</b> attribute to set the desired text to be displayed as label</p>
    <p>Use <b>type</b> property to set the input type</p>
  </div>

  <div>
    <h4>Example 1: value echo</h4>
    <p>
      <b>Value echo: </b><span id="valueEcho"></span>
    </p>
    <at-doc-snippet id="firstSnippet">
      <template>
        <at-form-textarea id="first" label="Value echo"></at-form-textarea>
      </template>
    </at-doc-snippet>
  </div>

  <div>
    <h4>Example 2: error</h4>
    <p>Add <b>required</b> attribute to make at-form-textarea required</p>
    <at-doc-snippet>
      <template>
        <at-form-textarea label="This textarea is required" required auto-validate></at-form-textarea>
      </template>
    </at-doc-snippet>
  </div>

  <div>
    <h4>Example 3: disabled</h4>
    <p>Add <b>disabled</b> attribute to make at-form-textarea disabled</p>
    <at-doc-snippet>
      <template>
        <at-form-textarea label="This textarea is disabled" disabled></at-form-textarea>
      </template>
    </at-doc-snippet>
  </div>

  <div>
    <h4>Example 4: hidden label demo</h4>
    <at-doc-snippet>
      <template>
        <at-form-textarea label="This is hidden label" hide-label></at-form-textarea>
      </template>
    </at-doc-snippet>
  </div>

  <div>
    <h4>Example 5: maxChars demo</h4>
    <p>maxChars is set to 15</p>
    <at-doc-snippet>
      <template>
        <at-form-textarea label="maxChars demo" max-chars="15" auto-validate></at-form-textarea>
      </template>
    </at-doc-snippet>
  </div>

  <div>
    <h4>Example 6: required, value set in code</h4>
    <at-doc-snippet on-content-changed="_handleP1ContentChanged">
      <template>
        <at-form-textarea id="p1" label="This textarea is required" required auto-validate></at-form-textarea>
      </template>
    </at-doc-snippet>
  </div>

  <div>
    <h4>Example 5: required and value set programmatically</h4>
    <p>Value being set is not whitespace <code>"this is not whitespace"</code> </p>
    <at-doc-snippet on-content-changed="_handleP2ContentChanged">
      <template>
        <at-form-textarea id="p2" label="This textarea is required" required auto-validate></at-form-textarea>
      </template>
    </at-doc-snippet>
  </div>


  <script>
    document.addEventListener('WebComponentsReady', function () {
      var valueEcho = document.getElementById('valueEcho');
      var firstSnippet = document.getElementById('firstSnippet');
      firstSnippet.addEventListener('content-changed', function(event) {
        var textarea = event.detail.querySelector('#first');

        textarea.addEventListener('value-changed', function(event){
          valueEcho.innerHTML = event.detail.value;
        });
      });

      var p1 = document.getElementById('p1');
      p1.value = "";
      p1.validate();

      var p2 = document.getElementById('p2');
      p2.value = "This is not whitespace";
      p2.validate();
    });


  </script>
</body>

</html>
